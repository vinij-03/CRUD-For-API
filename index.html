<!DOCTYPE html>
<html>
  <head>
    <title> API-CRUD </title>
    <style>
      form {
        display: flex;
        flex-direction: column;
        margin-bottom: 10px;
      }

      input[type="text"],
      textarea {
        margin-bottom: 10px;
        padding: 5px;
        border-radius: 5px;
        border: 1px solid #ccc;
        font-size: 16px;
      }

      button[type="button"] {
        padding: 5px 10px;
        border-radius: 5px;
        border: none;
        background-color: #008cba;
        color: #fff;
        font-size: 16px;
        cursor: pointer;
      }

      button[type="button"]:hover {
        background-color: #006e9f;
      }
    </style>
  </head>

  <body>
    <h1><center>API CRUD </center></h1>
    <hr />
    <!-- <div class="employee-form">
      <form
        onsubmit="event.preventDefault();onFormSubmit();"
        autocomplete="off"
      >
        <div>
          <label>Title*</label
          ><label class="validation-error hide" id="fullNameValidationError"
            >This field is required.</label
          >
          <input type="text" name="fullName" id="fullName" />
        </div>
        <div>
          <label>content</label>
          <textarea name="content" id="content"></textarea>
        </div>
        <div>
        <button type="submit" id="create" onclick="create()">Create</button>
      </form>
    </div>
    <br />
    <div class="table">
      <table class="list" id="List">
        <thead>
          <tr>
            <th>Full Name</th>
            <th>Email Id</th>
            <th>Salary</th>
            <th>City</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody> </tbody>
      </table> -->
    <!-- button to get all notes -->
    <button onclick="getAllNotes()">Get All Notes</button>

    <!-- form to add a new note -->
    <form>
      <input type="text" id="title" />
      <textarea id="content"></textarea>
      <button type="button" onclick="addNote()">Add Note</button>
    </form>

    <!-- form to update a note -->
    <form>
      <input type="text" id="id" />
      <input type="text" id="title" />
      <textarea id="content"></textarea>
      <button type="button" onclick="updateNote()">Update Note</button>
    </form>

    <!-- form to delete a note -->
    <form>
      <input type="text" id="id" />
      <button type="button" onclick="deleteNote()">Delete Note</button>
    </form>

    <script>
      // function to get all notes
      function getAllNotes() {
        fetch("/notes/all")
          .then((response) => response.json())
          .then((data) => {
            console.log(data);
            // display the data on the page
          });
      }

      // function to add a new note
      function addNote() {
        const title = document.getElementById("title").value;
        const content = document.getElementById("content").value;
        fetch("/notes/add", {
          method: "POST",
          body: JSON.stringify({ title: title, content: content }),
          headers: {
            "Content-Type": "application/json",
          },
        })
          .then((response) => response.json())
          .then((data) => {
            console.log(data);
            // display the data on the page
          });
      }

      // function to update a note
      function updateNote() {
        const id = document.getElementById("id").value;
        const title = document.getElementById("title").value;
        const content = document.getElementById("content").value;
        fetch("/notes/" + id, {
          method: "PATCH",
          body: JSON.stringify({ title: title, content: content }),
          headers: {
            "Content-Type": "application/json",
          },
        })
          .then((response) => response.json())
          .then((data) => {
            console.log(data);
            // display the data on the page
          });
      }

      // function to delete a note
      function deleteNote() {
        const id = document.getElementById("id").value;
        fetch("/notes/" + id, {
          method: "DELETE",
        })
          .then((response) => response.json())
          .then((data) => {
            console.log(data);
            // display the data on the page
          });
      }
    </script>
  </body>
</html>
